{% extends 'base.html' %}

{% load static %}

{% block content %}

<p><h2>Requests</h2></p>

<div>
  <ol class="list-group list-group">

    <li class="list-group-item d-flex justify-content-between align-items-start">
      <div class="ms-2 me-auto">
        <div class="fw-bold"><a href="{% url 'sliders:detail' request.id %}">{{ request.file_name }}</a></div>
        {{ request.requester.username }}
      </div>
      <span class="badge bg-primary rounded-pill">14</span>
    </li>

  </ol>
</div>
<br>
<div>
  <p><h5>{{ contributions | length }} Contributions</h5></p>
    <ol class="list-group list-group-numbered">

        {% for contribution in contributions %}
        <li class="list-group-item d-flex justify-content-between align-items-start">
          <div class="ms-2 me-auto">
            <div class="fw-bold"><a href="{% url 'sliders:detail' request.id %}">{{ contribution.file.name }}</a></div>
            {{ contribution.contributor.username }}
          </div>
          <!--<span class="badge bg-primary rounded-pill">14</span>-->
        </li>
        {% endfor %}

      </ol>
</div>

<br>


{% endblock %}


{% block activity %}

<!-- Recent Activity -->
<div class="card">
  <div class="filter">
    <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
    <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
      <li class="dropdown-header text-start">
        <h6>Filter</h6>
      </li>

      <li><a class="dropdown-item" href="#">Today</a></li>
      <li><a class="dropdown-item" href="#">This Month</a></li>
      <li><a class="dropdown-item" href="#">This Year</a></li>
    </ul>
  </div>

  <div class="card-body">
    <h5 class="card-title">Recent Activity <span>| Today</span></h5>

    <div class="activity">

      {% for request in requests %}

      <div class="activity-item d-flex">
        <div class="activite-label">{{ request.pub_date | timesince }}</div>
        <i class='bi bi-circle-fill activity-badge text-success align-self-start'></i>
        <div class="activity-content">
          {{ request.file_name }} <br>
          <a href="#" class="fw-bold text-dark">{{ request.requester.username }}</a>
        </div>
      </div><!-- End activity item-->

      {% endfor %}

    </div>

  </div>
</div><!-- End Recent Activity -->

{% endblock %}